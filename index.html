<!DOCTYPE html>
<html lang="ru" class="map" id="html">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="description" content=" ">
	  <meta name="keywords" content=" ">
    <title>Person Habitat</title>
    <link type="image/png" sizes="16x16" rel="icon" href="images/title/icons8-location-16.png">
    <link rel="stylesheet" href="pages/index.css">
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.52.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.52.0/mapbox-gl.css' rel='stylesheet'>
  </head>
  <body class="root map" id="body">
    <header class="header" id="header">
      <div class="header__container">
        <img class="logo logo_place_header" src="images/header/logo.svg" alt="Логитип">
        <ul class="header__menu">
          <li class="header__menu-item">
            <button class="header__link header_link_btn" id="mapa">карта</button>
          </li>
          <li class="header__menu-item">
            <a href="/faq/faq.html" class="header__link">faq</a>
          </li>
          <li class="header__menu-item">
            <a href="#footer" class="header__link" id="ykorOnFooter">контакты</a>
          </li>
        </ul>
        <a href="/otherPage/indexEU.html" class="header__translate header__link" id="translate">EU</a> 
      </div>

      <div class="hamburger-menu">
        <img class="logo logo_place_header" src="images/header/logo.svg" alt="Логитип">
        <input id="menu__toggle" type="checkbox" />
        <label class="menu__btn" for="menu__toggle">
          <span></span>
        </label>
        <ul class="menu__box">
          <li class="header__menu-item"><button class="menu__item header_link_btn" id="mapa">карта</button></li>
          <li class="header__menu-item"><a href="faq/faq.html" class="menu__item">faq</a></li>
          <li class="header__menu-item"><a href="#footer_mobile" class="menu__item" id="ykorOnFooter">Контакты</a></li>
        </ul>
        <a href="/otherPage/indexEU.html" class="header__translate header__link">EU</a>
      </div>
    </header>

    <img class="closeMap" src="images/close/icons8-close-32.png" alt="close">
    <div id="map" class="map"></div>
    
    <footer class="footer" id="footer">
      <div class="footer__columns">
        <div class="footer__column footer__column_content_copyright">
          <img class="logo logo_place_footer" src="images/footer/logo.svg" alt="Логотип">
          <p class="footer__author"> &copy; 2022. Артем Щербаков</p>
        </div>
        <div class="footer__column footer__column_content_adress">
          <h3 class="footer__column-heading">Адрес</h3>
          <nav class="footer__column-links">
            <ul class="footer__column-list">
              <li><a class="footer__link link" 
                href="https://yandex.ru/maps/-/CCUFYDaTkC" target="_blank">400074, Волгоград, ул. Академическая, 1.</a></li>
              <li><p class="footer__link link_wout_line">Аудитория В512</p></li>
            </ul>
          </nav>
        </div>
        <div class="footer__column footer__column_content_info">
          <h3 class="footer__column-heading">Меню</h3>
          <nav class="footer__column-links">
            <ul class="footer__column-list">
              <li><button class="footer__link link footer_link_btn" id="mapa2">карта</button></li>
              <li><a class="footer__link link" href="#">faq</a></li>
              <li><a class="footer__link link" href="#header" id="ykorOnHeader">главная</a></li>
            </ul>
          </nav>
        </div>
        <div class="footer__column footer__column_content_social">
          <h3 class="footer__column-heading">Соцсети</h3>
          <nav class="footer__column-links">
            <ul class="footer__column-list">
              <li>
                <button class="footer__link link footer_link_btn" id="OP" onclick="checkParams()">
                  <img class="footer__social-icons" src="images/footer/icons8-mail-16.png" alt="Почта">
                  ist.vstu@yandex.ru
                </button>
              </li>
              <li>
                <a class="footer__link link" href="https://vk.com/istvstu" target="_blank">
                  <img class="footer__social-icons" src="images/footer/icons8-vkontakte.svg" alt="Вконтакте">
                  ВКонтакте
                </a>
              </li>
              <li>
                <a class="footer__link link" href="tel:+79377301913">
                  <img class="footer__social-icons" src="images/footer/icons8-phone-16.png" alt="Телефон">
                  +7 (937) 730-19-13
                </a>
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </footer>
    <footer class="footer footer_mobile" id="footer_mobile">
      <div class="footer__column footer__column_mobile">
        <img class="logo logo_place_footer" src="images/footer/logo.svg" alt="Логотип" style="display:block;margin:auto;">
        <nav class="footer__column-links">
          <ul class="footer__column-list footer__column-list_mobile">
            <li><button class="footer__link link footer_link_btn" id="mapa2">карта</button></li>
            <li><a class="footer__link link" href="#">faq</a></li>
            <li><a class="footer__link link" href="#header" id="ykorOnHeader">главная</a></li>
          </ul>
        </nav>
        <nav class="footer__column-links">
          <ul class="footer__column-list footer__column-list_mobile">
            <li><a class="footer__link link" 
              href="https://yandex.ru/maps/-/CCUFYDaTkC" target="_blank">400074, Волгоград, ул. Академическая, 1.</a></li>
            <li><p class="footer__link link_wout_line">Аудитория В512</p></li>
          </ul>
        </nav>
        <nav class="footer__column-links">
          <ul class="footer__column-list footer__column-list_mobile">
            <li class="">
              <button class="footer__link link footer_link_btn" id="OP2">
                <img class="footer__social-icons" src="images/footer/icons8-mail-16.png" alt="Почта">
                ist.vstu@yandex.ru
              </button>
            </li>
            <li>
              <a class="footer__link link" href="https://vk.com/istvstu" target="_blank">
                <img class="footer__social-icons" src="images/footer/icons8-vkontakte.svg" alt="Вконтакте">
                ВКонтакте
              </a>
            </li>
            <li>
              <a class="footer__link link" href="tel:+79377301913">
                <img class="footer__social-icons" src="images/footer/icons8-phone-16.png" alt="Телефон">
                +7 (937) 730-19-13
              </a>
            </li>
          </ul>
        </nav>
        <p class="footer__author"> &copy; 2022. Артем Щербаков</p>
      </div>
    </footer>

    <div class="popup">
      <div class="popup__container">
        <button class="popup__close" aria-label="Close" type="button"></button>
        <form class="obratnuj-zvonok" id="form" name="form">
          <div class="form-zvonok"> 
              <label>Имя<span>*</span></label>
              <input type='text' name='name' minlength="2" id="input-name">
              <span class="popup__span popup__span_error" id="span-name"></span>

              <label>Номер телефона (с кодом)<span>*</span></label>
              <input type='text' name='phone' id="input-phone">

              <label>Сообщение</label>
              <input type='text' name='message' minlength="5" id="input-message">
              <span class="popup__span popup__span_error" id="span-message"></span>
              <button class="bot-send-mail" id="send-mail"><span class="text-button">Отправить заявку</span></button>
              <span class="popup__span popup__span_error" id="span-button"></span>
              <span class="popup__span popup__span_resualt"></span>
          </div>
        </form>
      </div>
    </div>
  </body>
  <script>
    mapboxgl.accessToken = 'pk.eyJ1Ijoia296aXIxMyIsImEiOiJjbDB6ODhtZjYyMDR0M2xuNTgzeGVkMDRnIn0.lFPK18DPf_9UID3uYpfHRw';
    var map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/mapbox/dark-v10',
        center: [44.5, 48.7],
        zoom: 13
    });

    map.on('load', function() {
      map.addLayer({
          "id": "layer_id",
          "type": "fill",
          "source": {
              "type": "vector",
              "scheme": "tms",
              "tiles": ["http://localhost:9999/geoserver/gwc/service/tms/1.0.0/test:volgograd_layer@EPSG%3A900913@pbf/{z}/{x}/{y}.pbf"],
              "minzoom": 0,
              "maxzoom": 15
          },
          "source-layer": "volgograd_layer",
          "paint": {
              "fill-opacity": 0.6,
              "fill-color": {
                "property": "population",
                "stops": [
                  [0, "#fff5f0"],
                  [5, "#fedccd"],
                  [20, "#fcb398"],
                  [73, "#fc8666"],
                  [150, "#f6573e"],
                  [233, "#dd2a25"],
                  [500, "#b31218"],
                  [807, "#67000d"]
                ]
              },
          }
      });

      map.addLayer({
          "id": "layer_id2",
          "type": "fill",
          "source": {
              "type": "vector",
              "scheme": "tms",
              "tiles": ["http://localhost:9999/geoserver/gwc/service/tms/1.0.0/test:layers@EPSG%3A900913@pbf/{z}/{x}/{y}.pbf"],
              "minzoom": 0,
              "maxzoom": 15
          },
          "source-layer": "layers",
          "paint": {
              "fill-opacity": 0.6,
              "fill-color": "#f6573e"
          }
      });
    });

    map.on('click', 'layer_id', function (e) {
      new mapboxgl.Popup()
        .setLngLat(e.lngLat)
        .setHTML('<p>Число жителей</p>' + e.features[0].properties.population)
        .addTo(map);
    });

    map.on('mouseenter', 'layer_id', function () {
      map.getCanvas().style.cursor = 'pointer';
    });

    map.on('mouseleave', 'layer_id', function () {
      map.getCanvas().style.cursor = '';
    });

    map.addControl(new mapboxgl.NavigationControl());
    map.addControl(new mapboxgl.ScaleControl());
    map.addControl(new mapboxgl.FullscreenControl());
  </script>
  <script src="js/script.js"></script>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
  <script src="js/main.js"></script>
  <script src="plugins/jquery-maskedinput/jquery.maskedinput.js"></script>
  <script src="js/jquery.js"></script>
</html>